@model CreateFirstIUserInputModel
@inject IViewLocalizer localizer
@inject IProfilePictureService ppService

<form asp-route="CreateFirstIUserInputModel" id="create-first-user">
    <input type="hidden" asp-for="ReturnUrl" />

    <div class="mdl-card__title mdl-color-text--primary text-center">
        <h2 class="mdl-card__title-text flex-fill">@localizer["CreateFirstUserHeadline"]</h2>
    </div>

    <div class="mdl-card__supporting-text">
        <p>@localizer["CreateFirstUserSubText"]</p>
        <div class="mdl-textfield mdl-textfield--full-width mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" asp-for="Username" />
            <label class="mdl-textfield__label" valid="@ViewContext.ModelState["Username"]?.ValidationState" asp-for="Username">@localizer["Username"]</label>
            <span asp-validation-for="Username" class="mdl-textfield__error"></span>
        </div>
        <div class="mdl-textfield mdl-textfield--full-width mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="password" asp-for="Password" />
            <label class="mdl-textfield__label" valid="@ViewContext.ModelState["Password"]?.ValidationState" asp-for="Password">@localizer["Password"]</label>
            <span asp-validation-for="Password" class="mdl-textfield__error"></span>
        </div>
        <div class="mdl-textfield mdl-textfield--full-width mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" type="password" asp-for="PasswordConfirmation" />
            <label class="mdl-textfield__label" valid="@ViewContext.ModelState["PasswordConfirmation"]?.ValidationState" asp-for="PasswordConfirmation">@localizer["PasswordConfirmation"]</label>
            <span asp-validation-for="PasswordConfirmation" class="mdl-textfield__error"></span>
        </div>
        <div class="mdl-textfield mdl-textfield--full-width mdl-js-textfield mdl-textfield--floating-label">
            <input class="mdl-textfield__input" asp-for="DisplayName" />
            <label class="mdl-textfield__label" valid="@ViewContext.ModelState["DisplayName"]?.ValidationState" asp-for="Username">@localizer["DisplayName"]</label>
            <span asp-validation-for="DisplayName" class="mdl-textfield__error"></span>
        </div>
        <div class="mdl-textfield mdl-textfield--full-width mdl-js-textfield mdl-textfield--floating-label">
            <select class="mdl-textfield__input" asp-for="ProfilePictureUrl">
                <option value=""> @localizer["SelectPicturePlaceHolder"]</option>

                @foreach (var item in ppService.GetPossibleProfilePicture())
                {
                    <option value="@item.Url">@item.Name</option>

                }

            </select>
            <label class="mdl-textfield__label" valid="@ViewContext.ModelState["ProfilePictureUrl"]?.ValidationState" asp-for="Username">@localizer["ProfilePictureUrl"]</label>
            <span asp-validation-for="ProfilePictureUrl" class="mdl-textfield__error"></span>
        </div>
        <div>
            <img src="" id="avatar-preview" />
        </div>
    </div>
    <div class="align-horizontal-left">
        <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect">
            @localizer["CreateUserButtonCaption"]
        </button>
    </div>
    <ul class="credits">
        <li>
            <span>@localizer["PictureCreditNote"]</span>
        </li>
        <li>
            <a href='https://www.freepik.com/vectors/cute'>Cute vector created by freepik - www.freepik.com</a>
        </li>
        <li>
            <a href='https://www.freepik.com/vectors/design'>Design vector created by macrovector_official - www.freepik.com</a>
        </li>
    </ul>

</form>

@section Scripts
{
    <script src="~/js/util.js"></script>
    <script src="~/js/showprofile-picture.js"></script>

}

